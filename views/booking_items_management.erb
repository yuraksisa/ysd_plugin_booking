<%= include('entity-management') %>

<!-- Renders the element description -->
<script type="text/tmpl" id="elements_title">
  <h2 class="entity-title"><%=t.booking_item_management.form.title%></h2> 
</script>

<!-- Renders the element description -->
<script type="text/tmpl" id="elements_description">
</script>

<!-- Renders the search -->
<script type="text/tmpl" id="elements_search">
  <form name="contents_search" id="contents_search" style="overflow:visible">
     <div class="form-row">
       <input type="text" name="search" class="search-entity-input"
              maxlength="60" size="20" placeholder="<%=t.entitymanagement.search%>"/>
       <select name="active" class="search-entity-control">
         <option value="only"><%=t.booking_item_management.form.active_filter.only%></option>
         <option value="all"><%=t.booking_item_management.form.active_filter.all%></option>
       </select>
     </div>
  </form>
</script>

<!-- Renders the elements container -->
<script type="text/tmpl" id="elements_container_template">
  <table id="elements_table" class="table">
     <thead class="table-header">
       <tr>
         <th class="table-header-title" scope="col" style="width:10%">
            <%= t.booking_item_management.form.category.label %>
         </th>
         <th class="table-header-title" scope="col" style="width:15%">
            <%= t.booking_item_management.form.reference.label %>
         </th>
         <th class="table-header-title" scope="col" style="width:20%">
            <%= t.booking_item_management.form.name.label %>
         </th>       
         <th class="table-header-title" scope="col" style="width:15%">
            <%= t.booking_item_management.form.model.label %>
         </th>
         <th class="table-header-title" scope="col" style="width:15%">
            <%= t.booking_item_management.form.plate.label %>
         </th>
         <th class="table-header-title" scope="col" style="width:100px">
            <%= t.booking_item_management.table.own_property %>
         </th>
         <th class="table-header-title" scope="col" style="width:100px">
            <%= t.booking_item_management.table.assignable %>
         </th>
         <th class="table-header-title" scope="col">
         </th>         
       </tr>
     </thead>
     <tbody id="elements_tbody" class="table-tbody">             
     </tbody>
  </table>
</script>

<!-- Renders one element in the elements list view -->
        
<script type="text/tmpl" id="elements_list_template">
    <tr class="table-row" id="element_row_<%%=index%>">
      <td class="table-cell element-navigation-detail" rel="<%%= index %>">
         <%%= entity.category_code %>
      </td>
      <td class="table-cell element-navigation-detail" rel="<%%= index %>">
         <%%= entity.reference %>
      </td>
      <td class="table-cell element-navigation-detail" rel="<%%= index %>">
         <%%= entity.name %>
      </td>
      <td class="table-cell element-navigation-detail" rel="<%%= index %>">
         <%%= entity.stock_model %>
      </td>
      <td class="table-cell element-navigation-detail" rel="<%%= index %>">
         <%%= entity.stock_plate %>
      </td>
      <td class="table-cell element-navigation-detail centered_text" rel="<%%= index %>">
         <%%= entity.own_property ? '<%=t.booking_item_management.table.own_property_yes%>' : '<%=t.booking_item_management.table.own_property_no%>' %>
      </td>
      <td class="table-cell element-navigation-detail centered_text" rel="<%%= index %>">
         <%%= entity.assignable ? '<%=t.booking_item_management.table.assignable_yes%>' : '<%=t.booking_item_management.table.assignable_no%>'  %>
      </td>
      <td class="table-cell">
      </td>
    </tr>
</script>

<!-- Renders one element in the element view (full detailed) -->

<script type="text/tmpl" id="element_template">
   
</script>

<!-- Renders the form to edit an element -->

<script type="text/tmpl" id="element_template_form">
        
     <%% if (entity) { %>
       <h3 class="bottom-separator bottom-margin" style="display:inline-block"><%%=entity.reference%> - <%%=entity.name%></h3>
       <div class="container_12">
         <ul id="content_tabs" class="no-border no-background"class="no-border no-background">  
          <li class="no-border no-background top-space" style="border:none;background:none">
              <a name="basic_data_tab" href="#basic_data_tab">Datos básicos</a>
          </li>         
          <li class="no-border no-background top-space" style="border:none;background:none">
              <a name="description_tab" href="#description_tab">Descripción</a>
          </li> 
          <li class="no-border no-background top-space" style="border:none;background:none">
              <a name="characteristics_tab" href="#characteristics_tab">Características</a>
          </li>                                                  
      </ul>
     <div id="content">

        <div id="basic_data_tab" class="top-margin bottom-margin">
          <div class="container_12">
            <div class="grid_6">   
              <form name="element" method="POST">
                <input type="hidden" name="reference" value="<%%=entity.reference%>"/>
                <div class="formrow">
                  <label for="category[code]" class="fieldtitle"><%=t.booking_item_management.form.category.label%></label>
                  <select name="category[code]" id="category[code]" class="fieldcontrol"/>
                </div>              
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.name.label %></label>
                  <input type="text" maxlength="80" id="name" name="name" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.name%>" <%% } %>/>
                </div> 
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.active.label%></label>
                  <input type="checkbox" name="active" value="true" id="active" <%% if (entity && entity.active) { %>checked="checked"<%%}%>/>
                </div>
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.own_property.label%></label>
                  <input type="checkbox" name="own_property" value="true" id="own_property" <%% if (entity && entity.own_property) { %>checked="checked"<%%}%>/>
                </div>
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.assignable.label%></label>
                  <input type="checkbox" name="assignable" value="true" id="assignable" <%% if (entity && entity.assignable) { %>checked="checked"<%%}%>/>
                </div>                                   
                <div class="bottom-navigation-bar navigation-bar" style="padding-right:0px">
                  <div class="navigation-bar-crud-buttons">
                    <input type="button" class="update-entity-button action-button entity-management-button" value="<%=t.entitymanagement.update%>"/>
                  </div>
                </div>                   
              </form>                          
            </div>
          </div>
        </div>

        <div id="description_tab" class="top-margin bottom-margin">
          <div class="container_12">
            <div class="grid_6">  
              <form name="element" method="POST">
                <input type="hidden" name="reference" value="<%%=entity.reference%>"/>
                <div class="formrow">
                   <label class="fieldtitle"><%= t.booking_item_management.form.description.label %></label>
                   <textarea rows="3" cols="50" id="description" name="description" class="fieldcontrol"><%% if (entity) {%><%%=entity.description %><%% } %></textarea>
                </div>                  
                <div class="bottom-navigation-bar navigation-bar" style="padding-right:0px">
                  <div class="navigation-bar-crud-buttons">
                    <input type="button" class="update-entity-button action-button entity-management-button" value="<%=t.entitymanagement.update%>"/>
                  </div>
                </div>                   
              </form>                                
            </div>
          </div>
        </div>        

        <div id="characteristics_tab" class="top-margin bottom-margin">
          <div class="container_12">
            <div class="grid_6">   
              <form name="element" method="POST">
                <input type="hidden" name="reference" value="<%%=entity.reference%>"/>           
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.model.label %></label>
                  <input type="text" maxlength="80" id="stock_model" name="stock_model" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.stock_model%>" <%% } %>/>
                </div> 
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.plate.label %></label>
                  <input type="text" maxlength="80" id="stock_plate" name="stock_plate" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.stock_plate%>" <%% } %>/>
                </div> 
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.characteristic_1.label %></label>
                  <input type="text" maxlength="80" id="characteristic_1" name="characteristic_1" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.characteristic_1%>" <%% } %>/>
                </div>  
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.characteristic_2.label %></label>
                  <input type="text" maxlength="80" id="characteristic_2" name="characteristic_2" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.characteristic_2%>" <%% } %>/>
                </div>       
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.characteristic_3.label %></label>
                  <input type="text" maxlength="80" id="characteristic_3" name="characteristic_3" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.characteristic_3%>" <%% } %>/>
                </div>    
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.characteristic_4.label %></label>
                  <input type="text" maxlength="80" id="characteristic_4" name="characteristic_4" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.characteristic_4%>" <%% } %>/>
                </div>                                                         
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.cost.label %></label>
                  <input type="text" maxlength="80" id="cost" name="cost" class="fieldcontrol" <%% if (entity) { %> value="<%%=new Number(entity.cost).toFixed(2)%>" <%% } %>/>
                </div>
                <div class="formrow">
                  <label class="fieldtitle"><%= t.booking_item_management.form.planning_order.label %></label>
                  <input type="text" maxlength="10" id="planning_order" name="planning_order" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.planning_order%>" <%% } %>/>
                </div>                                    
                <div class="bottom-navigation-bar navigation-bar" style="padding-right:0px">
                  <div class="navigation-bar-crud-buttons">
                    <input type="button" class="update-entity-button action-button entity-management-button" value="<%=t.entitymanagement.update%>"/>
                  </div>
                </div>                   
              </form>                          
            </div>
          </div>
        </div>

     </div>
    </div>

    <%% } else { %> 
     <h3>Nuevo stock</h3>
     <form name="element" method="POST">
        <div class="form-fields">
          <div class="container_12"> 
            <div class="grid_6">
              <div class="formrow">
                <label class="fieldtitle"><%= t.booking_item_management.form.reference.label %></label>
                <input type="text" maxlength="50" id="reference" name="reference" class="fieldcontrol" <%% if (entity) {%> value="<%%=entity.reference %>" <%% } %>/>
              </div>
              <div class="formrow">
                <label for="category[code]" class="fieldtitle"><%=t.booking_item_management.form.category.label%></label>
                <select name="category[code]" id="category[code]" class="fieldcontrol"/>
              </div>              
              <div class="formrow">
                <label class="fieldtitle"><%= t.booking_item_management.form.name.label %></label>
                <input type="text" maxlength="80" id="name" name="name" class="fieldcontrol" <%% if (entity) { %> value="<%%=entity.name%>" <%% } %>/>
              </div>
              <div class="bottom-navigation-bar navigation-bar">
                 <div class="navigation-bar-crud-buttons" style="padding-right:0px">
                    <input type="submit" class="create-entity-button action-button entity-management-button" value="<%=t.entitymanagement.create%>"/>
                 </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    <%% } %>
     
</script>