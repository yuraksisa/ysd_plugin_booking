require(['jquery','charts'], function($, Chart) {

  dashboardModel = {

    reservationsByDayData : {
      labels: ["L", "M", "X", "J", "V", "S", "D"],
        datasets: [
          {
            label: "My First dataset",
            fillColor: "rgba(220,220,220,0.5)",
            strokeColor: "rgba(220,220,220,0.8)",
            highlightFill: "rgba(220,220,220,0.75)",
            highlightStroke: "rgba(220,220,220,1)",
            data: [65, 59, 80, 81, 56, 55, 40]
          }
        ]
    },

    reservationsByCategoryData : [
      {
        value: 300,
        color:"#F7464A",
        highlight: "#FF5A5E",
        label: "Red"
      },
      {
        value: 50,
        color: "#46BFBD",
        highlight: "#5AD3D1",
        label: "Green"
      },
      {
        value: 100,
        color: "#FDB45C",
        highlight: "#FFC870",
        label: "Yellow"
      }
    ],
    reservationsByStateData : [
      {
        value: 150,        
        color: "#46BFBD",
        highlight: "#5AD3D1",
        label: "Confirmadas"
      },
      {
        value: 5,
        color:"#F7464A",
        highlight: "#FF5A5E",
        label: "Pendientes de confirmar"
      },
      {
        value: 25,
        color: "#FDB45C",
        highlight: "#FFC870",
        label: "Canceladas"
      }
    ],

   last30DaysReservationsData : {
     labels: ["01", "02", "03", "04", "05", "06", "07",
             "08", "09", "10", "11", "12", "13", "14",
             "15", "16", "17", "18", "19", "20", "21",
             "22", "23", "24", "25", "26", "27", "28",
             "29", "30"],
     datasets: [
        {
            label: "My First dataset",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [3, 1, 1, 1, 2, 5, 7,
                   1, 2, 1, 1, 2, 1, 1,
                   3, 2, 7, 2, 2, 3, 2,
                   3, 2, 1, 1, 2, 2, 1,
                   2, 1
                   ]
        }
     ]
    }

  }

  dashboardView = {

    init: function() {
      // Reservations by Day
      
  	  var reservationsByDayCtx = document.getElementById("reservations_by_day_graphic").getContext("2d");
      var reservationsByDayOptions = { //String - A legend template
        legendTemplate : "<ul class=\"<%%=name.toLowerCase()%>-legend\"><%% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%%=segments[i].fillColor%>\"></span><%%if(segments[i].label){%><%%=segments[i].label%><%%}%></li><%%}%></ul>"
      };
      var reservationsByDayChart = new Chart(reservationsByDayCtx).Bar(dashboardModel.reservationsByDayData,reservationsByDayOptions);
      

      // Reservations by category
  	  var reservationsByCategoryCtx = document.getElementById("reservations_by_category_graphic").getContext("2d");
      var reservationsByCategoryOptions = { //String - A legend template
        legendTemplate : "<ul class=\"<%%=name.toLowerCase()%>-legend\"><%% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%%=segments[i].fillColor%>\"></span><%%if(segments[i].label){%><%%=segments[i].label%><%%}%></li><%%}%></ul>"
      };
      var reservationsByCategoryChart = new Chart(reservationsByCategoryCtx).Doughnut(dashboardModel.reservationsByCategoryData,reservationsByCategoryOptions);

      // Reservations by state
  	  var reservationsByStateCtx = document.getElementById("reservations_by_state_graphic").getContext("2d");
      var reservationsByStateOptions = { //String - A legend template
        legendTemplate : "<ul class=\"<%%=name.toLowerCase()%>-legend\"><%% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%%=segments[i].fillColor%>\"></span><%%if(segments[i].label){%><%%=segments[i].label%><%%}%></li><%%}%></ul>"
      };
      var reservationsByStateChart = new Chart(reservationsByStateCtx).Doughnut(dashboardModel.reservationsByStateData,reservationsByStateOptions);

      // Last 30 days reservations 
  	  var last30DaysReservationsCtx = document.getElementById("last_30_days_reservations_graphic").getContext("2d");
      var last30DaysReservationsOptions = { //String - A legend template
        legendTemplate : "<ul class=\"<%%=name.toLowerCase()%>-legend\"><%% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%%=segments[i].fillColor%>\"></span><%%if(segments[i].label){%><%%=segments[i].label%><%%}%></li><%%}%></ul>"
      };
      var last30DaysReservationsChart = new Chart(last30DaysReservationsCtx).Line(dashboardModel.last30DaysReservationsData,last30DaysReservationsOptions);


    }

  }

  dashboardView.init();
});